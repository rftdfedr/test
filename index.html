<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'wasm-unsafe-eval' 'inline-speculation-rules' chrome-extension://c5851c79-6104-4ade-bdf2-2b31fcc2f666/ 'sha256-kPx0AsF0oz2kKiZ875xSvv693TBHkQ/0SkMJZnnNpnQ=' 'unsafe-inline'">
  <title>Приём космического сигнала</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Основной интерфейс компьютера -->
  <div id="left-panel">
    <div class="tabs">
      <div class="tab active" data-tab="signals">Сигналы</div>
      <div class="tab" data-tab="telescopes">Радиотелескопы</div>
      <div class="tab" data-tab="history">История сигналов</div>
    </div>
    <div id="signals" class="tab-content">
      <div style="font-size: 18px; margin-bottom: 10px;">Готов принять сигнал?</div>
      
      <div class="controls-row">
        <button id="receive-btn" disabled>Загрузка сигналов...</button>
        
        <div class="filter-container">
          <div class="filter-label">Фильтр частот</div>
          <label class="switch">
            <input type="checkbox" id="filter-toggle">
            <span class="slider"></span>
          </label>
          <div class="filter-status" id="filter-status">ВЫКЛ</div>
        </div>
      </div>
      
      <div id="loading-status" class="loading"></div>
    </div>
    <div id="telescopes" class="tab-content" style="display:none;">
      <table>
        <thead>
          <tr>
            <th>Название</th>
            <th>Статус</th>
            <th>Соединение</th>
            <th>Действия</th>
          </tr>
        </thead>
        <tbody id="telescopes-body"></tbody>
      </table>
    </div>
    <div id="history" class="tab-content" style="display:none; flex-direction: column;">
      <div id="history-list" tabindex="0"></div>
      <button id="delete-button">Удалить выбранный</button>
    </div>
  </div>
  <div id="right-panel">
    <textarea id="status-text" readonly></textarea>
    <textarea id="binary-text" readonly></textarea>
    <button id="decrypt-btn" disabled>Расшифровать</button>
    <textarea id="result-text" readonly></textarea>
  </div>

  <!-- Кнопка перехода к столу -->
  <button id="to-desk-btn" class="transition-btn">Перейти к столу ↓</button>

  <!-- Сцена стола -->
  <div id="desk-scene">
    <div class="flashlight-effect" id="flashlight"></div>
    <div class="paper-flashlight" id="paper-flashlight"></div>
    <div class="paper">
      <div class="paper-content" contenteditable="true">
╔═══════════════════════════════════════╗
║           ПРАВИЛА ИГРЫ               ║
╠═══════════════════════════════════════╣
║                                       ║
║ • Принимайте космические сигналы      ║
║ • Расшифровывайте полученные данные   ║
║ • Следите за состоянием телескопов    ║
║ • Анализируйте историю сигналов       ║
║                                       ║
║ ═════════════════════════════════════ ║
║              УПРАВЛЕНИЕ              ║
║ ═════════════════════════════════════ ║
║                                       ║
║ • Стрелка ВВЕРХ - к компьютеру        ║
║ • Стрелка ВНИЗ - к столу              ║
║ • Перетаскивание - перемещение листка ║
║ • Клик - редактирование текста        ║
║ • Backspace/Del - удаление текста     ║
║                                       ║
║ ═════════════════════════════════════ ║
║              ЗАМЕТКИ                 ║
║ ═════════════════════════════════════ ║
║                                       ║
║ • Аномальные сигналы помечены красным ║
║ • Используйте фильтр для уникальных   ║
║   частот                              ║
║ • Восстанавливайте телескопы вовремя  ║
║ • Сохраняйте важные расшифровки       ║
║                                       ║
║ Можете стереть этот текст и записать  ║
║ свои наблюдения и идеи!               ║
║                                       ║
╚═══════════════════════════════════════╝
      </div>
    </div>
    <div class="controls-hint" id="desk-hint">
      Перемещайте листок мышью • Редактируйте текст кликом • Нажмите ↑ для возврата к компьютеру
    </div>
    
    <!-- Кнопка возврата к компьютеру -->
    <button id="to-computer-btn" class="transition-btn">Вернуться к компьютеру ↑</button>
  </div>

  <!-- Оверлей перехода -->
  <div id="transition-overlay" class="transition-overlay"></div>

  <script src="game.js"></script>
</body>
</html>
